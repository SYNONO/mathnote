# 一般换元公式

#数学二 #高等数学 #第五章 #多元函数积分学 #换元法

## 🏷️ 标签体系
- **L1知识点**：`一般换元法` `Jacobian行列式` `变换公式` `逆变换`
- **L2方法**：`线性变换` `非线性变换` `Jacobian计算` `区域变换`
- **L3章节**：`多元函数积分学`
- **难度**：`expert`

## 📖 核心概念

一般换元法是极坐标变换的推广，通过适当的变量替换简化积分计算。关键是理解Jacobian行列式的作用。

## 一、换元法的基本原理

### 🔑 变换公式
设变换 $T: (u,v) \mapsto (x,y)$：
$$\begin{cases}
x = x(u,v) \\
y = y(u,v)
\end{cases}$$

若变换 $T$ 满足一定条件，则：
$$\iint_D f(x,y)\,dx\,dy = \iint_{D'} f(x(u,v), y(u,v)) \cdot |J(u,v)|\,du\,dv$$

其中 $D'$ 是 $D$ 在 $(u,v)$ 平面上的原像，$J(u,v)$ 是Jacobian行列式。

### 💡 变换的条件
1. $x(u,v)$、$y(u,v)$ 在 $D'$ 上具有连续偏导数
2. 变换 $T$ 在 $D'$ 内部是一一对应的
3. Jacobian行列式 $J(u,v) \neq 0$（在 $D'$ 内部）

## 二、Jacobian行列式

### 🔑 定义
$$J(u,v) = \frac{\partial(x,y)}{\partial(u,v)} = \begin{vmatrix}
\frac{\partial x}{\partial u} & \frac{\partial x}{\partial v} \\
\frac{\partial y}{\partial u} & \frac{\partial y}{\partial v}
\end{vmatrix} = \frac{\partial x}{\partial u}\frac{\partial y}{\partial v} - \frac{\partial x}{\partial v}\frac{\partial y}{\partial u}$$

### 📐 例题5.46（Jacobian计算）
计算下列变换的Jacobian：
1. 极坐标变换：$x = r\cos\theta$，$y = r\sin\theta$
2. 线性变换：$x = au + bv$，$y = cu + dv$

**解**：
1. 极坐标：
   $$J = \begin{vmatrix}
   \cos\theta & -r\sin\theta \\
   \sin\theta & r\cos\theta
   \end{vmatrix} = r\cos^2\theta + r\sin^2\theta = r$$

2. 线性变换：
   $$J = \begin{vmatrix}
   a & b \\
   c & d
   \end{vmatrix} = ad - bc$$

### 💡 Jacobian的几何意义
$|J(u,v)|$ 表示变换在点 $(u,v)$ 处的**面积放大率**。

## 三、逆变换的Jacobian

### 🔑 重要性质
若 $(x,y) \rightarrow (u,v)$ 的Jacobian为 $J_1$，$(u,v) \rightarrow (x,y)$ 的Jacobian为 $J_2$，则：
$$J_1 \cdot J_2 = 1$$

即：
$$\frac{\partial(x,y)}{\partial(u,v)} \cdot \frac{\partial(u,v)}{\partial(x,y)} = 1$$

### 📐 例题5.47（逆变换）
已知变换 $u = x + y$，$v = x - y$，计算两个方向的Jacobian。

**解**：
1. 正变换：从 $(x,y)$ 到 $(u,v)$
   $$\frac{\partial(u,v)}{\partial(x,y)} = \begin{vmatrix}
   1 & 1 \\
   1 & -1
   \end{vmatrix} = -2$$

2. 逆变换：解出 $x = \frac{u+v}{2}$，$y = \frac{u-v}{2}$
   $$\frac{\partial(x,y)}{\partial(u,v)} = \begin{vmatrix}
   \frac{1}{2} & \frac{1}{2} \\
   \frac{1}{2} & -\frac{1}{2}
   \end{vmatrix} = -\frac{1}{2}$$

3. 验证：$(-2) \times (-\frac{1}{2}) = 1$ ✓

## 四、线性变换

### 🔑 一般形式
$$\begin{cases}
x = au + bv + e \\
y = cu + dv + f
\end{cases}$$

其中 $ad - bc \neq 0$。

### 📐 例题5.48（线性变换应用）
计算 $\iint_D (x+y)e^{x-y}\,dx\,dy$，其中 $D$ 是由 $x+y=1$，$x+y=2$，$x-y=0$，$x-y=1$ 围成的平行四边形。

**解**：
令 $u = x + y$，$v = x - y$

1. 变换后的区域：$D' = \{(u,v) | 1 \leq u \leq 2, 0 \leq v \leq 1\}$

2. Jacobian：$J = \frac{\partial(x,y)}{\partial(u,v)} = -\frac{1}{2}$

3. 积分变为：
   $$\begin{align}
   \iint_D (x+y)e^{x-y}\,dx\,dy &= \iint_{D'} ue^v \cdot \left|-\frac{1}{2}\right|\,du\,dv \\
   &= \frac{1}{2}\int_0^1 e^v\,dv \int_1^2 u\,du \\
   &= \frac{1}{2}(e-1) \cdot \frac{3}{2} = \frac{3(e-1)}{4}
   \end{align}$$

## 五、常用的非线性变换

### 1. 椭圆变换
将椭圆变为圆：
$$\frac{x^2}{a^2} + \frac{y^2}{b^2} = 1 \quad \xrightarrow{u=\frac{x}{a}, v=\frac{y}{b}} \quad u^2 + v^2 = 1$$

Jacobian：$J = ab$

### 2. 双曲变换
$$\begin{cases}
x = u\cosh v \\
y = u\sinh v
\end{cases} \quad \text{或} \quad \begin{cases}
x = u\sec v \\
y = u\tan v
\end{cases}$$

### 📐 例题5.49（椭圆区域）
计算 $\iint_D \sqrt{1-\frac{x^2}{a^2}-\frac{y^2}{b^2}}\,dx\,dy$，其中 $D = \{(x,y) | \frac{x^2}{a^2}+\frac{y^2}{b^2} \leq 1\}$。

**解**：
令 $u = \frac{x}{a}$，$v = \frac{y}{b}$，则 $J = ab$

区域变为：$D' = \{(u,v) | u^2 + v^2 \leq 1\}$

$$\begin{align}
\iint_D \sqrt{1-\frac{x^2}{a^2}-\frac{y^2}{b^2}}\,dx\,dy &= \iint_{D'} \sqrt{1-u^2-v^2} \cdot ab\,du\,dv \\
&= ab\iint_{D'} \sqrt{1-u^2-v^2}\,du\,dv
\end{align}$$

使用极坐标 $u = r\cos\theta$，$v = r\sin\theta$：
$$= ab\int_0^{2\pi} d\theta \int_0^1 \sqrt{1-r^2} \cdot r\,dr = 2\pi ab \cdot \frac{2}{3} = \frac{4\pi ab}{3}$$

## 六、换元法的策略

### 1. 选择变换的原则
- 使积分区域变简单（如变为矩形）
- 使被积函数变简单
- 利用问题的对称性

### 2. 常见的变换选择
- 平行四边形 → 矩形：线性变换
- 椭圆 → 圆：缩放变换
- 旋转对称 → 极坐标

### 3. 计算步骤
1. 确定变换关系
2. 计算Jacobian
3. 变换积分区域
4. 代入计算

## 七、注意事项与技巧

### 1. Jacobian的符号
- 使用 $|J|$（绝对值）
- 保证积分值为正（面积）

### 2. 边界的对应
- 仔细确定变换后的区域
- 可以通过边界曲线的变换确定

### 3. 变换的选择
- 不是所有变换都能简化问题
- 需要经验和尝试

### 📐 例题5.50（综合应用）
计算 $\iint_D xy\,dx\,dy$，其中 $D$ 是由曲线 $xy = 1$，$xy = 2$，$y = x$，$y = 2x$ 围成的区域。

**解**：
令 $u = xy$，$v = \frac{y}{x}$

1. 区域变为：$D' = \{(u,v) | 1 \leq u \leq 2, 1 \leq v \leq 2\}$

2. 反解：$x = \sqrt{\frac{u}{v}}$，$y = \sqrt{uv}$

3. Jacobian：
   $$J = \frac{\partial(x,y)}{\partial(u,v)} = \frac{1}{2v}$$

4. 积分：
   $$\iint_D xy\,dx\,dy = \iint_{D'} u \cdot \frac{1}{2v}\,du\,dv = \frac{1}{2}\int_1^2 \frac{dv}{v} \int_1^2 u\,du = \frac{1}{2}\ln 2 \cdot \frac{3}{2} = \frac{3\ln 2}{4}$$

## 🎯 易错提醒

1. **Jacobian计算**
   - 注意求导的顺序
   - 不要混淆正逆变换
   - 记得取绝对值

2. **区域变换**
   - 仔细确定边界对应关系
   - 画图辅助理解
   - 检查覆盖完整性

3. **变换条件**
   - 确保变换是一一对应
   - 检查Jacobian不为零
   - 注意定义域

4. **计算错误**
   - 代入时完全替换
   - 不要遗漏Jacobian
   - 检查最终结果的合理性

## 🔗 相关链接
- [[5-3-1 极坐标变换]] - 特殊情况
- [[5-4-2 常用变换技巧]] - 更多变换
- [[5-4-3 换元法的应用实例]] - 应用举例
- [[3-5-1 一元积分的换元法]] - 一元情况

## 🔗 相关题目练习
根据标签可在题库中搜索：
- 知识点标签：`一般换元法` `Jacobian行列式`
- 章节标签：`多元函数积分学`
- 难度：`expert`