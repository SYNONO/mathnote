# 复合函数求导法则

#数学二 #高等数学 #第二章 #知识点/复合函数求导 #知识点/链式法则

## 🏷️ 标签体系
- **L1知识点**：`复合函数求导` `链式法则` `复合函数` `多重复合`
- **L2方法**：`链式法则` `逐层求导法` `复合函数法`
- **L3章节**：`一元函数微分学`
- **难度**：`hard`

## 📖 复合函数的求导法则（原书第71页）

### 🔑 链式法则

若 $u = \varphi(x)$ 在点 $x$ 可导，而 $y = f(u)$ 在对应点 $u = \varphi(x)$ 可导，则复合函数 $y = f[\varphi(x)]$ 在点 $x$ 可导，并且

$$(f[\varphi(x)])' = f'(u)\varphi'(x) = f'[\varphi(x)]\varphi'(x)$$

即 $\frac{dy}{dx} = \frac{dy}{du} \cdot \frac{du}{dx}$

**复合函数对自变量的导数等于复合函数对中间变量的导数乘以中间变量对自变量的导数——链式法则**

### 💡 理解要点

1. **多重复合的链式法则**：
   若 $y = f(u)$，$u = g(v)$，$v = \varphi(x)$ 复合而成的函数 $y = f[g(\varphi(x))]$ 的导数为：
   $$\frac{dy}{dx} = \frac{dy}{du} \cdot \frac{du}{dv} \cdot \frac{dv}{dx} = f'(u) \cdot g'(v) \cdot \varphi'(x)$$

2. **求导步骤**：
   - 分清函数的复合层次
   - 按照由外层到内层逐层求导
   - 每层导数相乘
   - 注意不要漏层，特别是最内层

## 一、复合函数的识别

### 复合结构分析
对于 $y = \sin(x^2)$：
- 外层函数：$y = \sin u$
- 内层函数：$u = x^2$
- 求导：$y' = \cos u \cdot 2x = 2x\cos(x^2)$

对于 $y = e^{\sin x}$：
- 外层函数：$y = e^u$
- 内层函数：$u = \sin x$
- 求导：$y' = e^u \cdot \cos x = e^{\sin x}\cos x$

## 📐 例题3.1（原书例5）
求下列函数的导数：
1. $y = \arcsin e^x$
2. $y = e^{x\sin \frac{1}{x}}$
3. $y = \ln(x + \sqrt{x^2 + 1})$

**解**：
(1) $y' = \frac{1}{\sqrt{1-(e^x)^2}} \cdot (e^x)' = \frac{e^x}{\sqrt{1-e^{2x}}}$

(2) $y' = e^{x\sin\frac{1}{x}} \cdot (x\sin\frac{1}{x})'$
   
   其中 $(x\sin\frac{1}{x})' = \sin\frac{1}{x} + x\cos\frac{1}{x} \cdot (-\frac{1}{x^2}) = \sin\frac{1}{x} - \frac{1}{x}\cos\frac{1}{x}$
   
   所以 $y' = e^{x\sin\frac{1}{x}}(\sin\frac{1}{x} - \frac{1}{x}\cos\frac{1}{x})$

(3) $y' = \frac{1}{x + \sqrt{x^2 + 1}} \cdot (x + \sqrt{x^2 + 1})'$
   
   $= \frac{1}{x + \sqrt{x^2 + 1}} \cdot (1 + \frac{2x}{2\sqrt{x^2 + 1}})$
   
   $= \frac{1}{x + \sqrt{x^2 + 1}} \cdot \frac{\sqrt{x^2 + 1} + x}{\sqrt{x^2 + 1}}$
   
   $= \frac{1}{\sqrt{x^2 + 1}}$

## 📐 例题3.2（原书例6）
已知 $y = f(\frac{3x-2}{3x+2})$，$f'(x) = \arctan x^2$，则 $\frac{dy}{dx}\bigg|_{x=0} = ?$

**解**：
$$\frac{dy}{dx} = f'(\frac{3x-2}{3x+2}) \cdot (\frac{3x-2}{3x+2})'$$

其中 $(\frac{3x-2}{3x+2})' = \frac{3(3x+2) - (3x-2) \cdot 3}{(3x+2)^2} = \frac{12}{(3x+2)^2}$

当 $x = 0$ 时，$\frac{3x-2}{3x+2} = \frac{-2}{2} = -1$

所以 $\frac{dy}{dx}\bigg|_{x=0} = f'(-1) \cdot \frac{12}{4} = \arctan 1 \cdot 3 = \frac{\pi}{4} \cdot 3 = \frac{3\pi}{4}$

## 📐 例题3.3（原书例8）
设 $f(u)$ 可导，$y = f(\sin^2 x) + f(\cos^2 x)$，则 $\frac{dy}{dx}\bigg|_{x=\frac{\pi}{4}} = ?$

**解**：
$$\frac{dy}{dx} = f'(\sin^2 x) \cdot (\sin^2 x)' + f'(\cos^2 x) \cdot (\cos^2 x)'$$

其中：
- $(\sin^2 x)' = 2\sin x \cos x = \sin 2x$
- $(\cos^2 x)' = -2\cos x \sin x = -\sin 2x$

所以 $\frac{dy}{dx} = f'(\sin^2 x) \cdot \sin 2x - f'(\cos^2 x) \cdot \sin 2x$

当 $x = \frac{\pi}{4}$ 时，$\sin^2 \frac{\pi}{4} = \cos^2 \frac{\pi}{4} = \frac{1}{2}$，$\sin \frac{\pi}{2} = 1$

则 $\frac{dy}{dx}\bigg|_{x=\frac{\pi}{4}} = f'(\frac{1}{2}) \cdot 1 - f'(\frac{1}{2}) \cdot 1 = 0$

## 二、特别注意

### ⚠️ 区分 $[f(\ln x)]'$ 和 $f'(\ln x)$

- $[f(\ln x)]'$ 是 $f(u)$ 和 $u = \ln x$ 先复合为 $f(\ln x)$，后对自变量 $x$ 求导
- $f'(\ln x)$ 是 $f(u)$ 先对 $u$ 求导得 $f'(u)$，再和 $u = \ln x$ 复合

两者的关系：$[f(\ln x)]' = f'(\ln x) \cdot \frac{1}{x}$

## 🎯 易错提醒
1. 复合函数求导必须逐层进行，不能跳层
2. 最内层函数的导数最容易遗漏
3. 要正确识别复合函数的层次结构
4. 注意区分对哪个变量求导

## 🔗 相关链接
- [[基本初等函数的导数]]
- [[导数的四则运算法则]]
- [[隐函数求导]]

## 🔗 相关题目练习
根据标签可在题库中搜索：
- 知识点标签：`复合函数求导` `链式法则`
- 章节标签：`一元函数微分学`
- 难度：`hard`