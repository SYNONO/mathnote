# 3-5-4 子空间

#数学二 #线性代数 #第三章 #向量 #子空间

## 🏷️ 标签体系
- **L1知识点**：`子空间` `子空间的和` `子空间的交` `直和`
- **L2方法**：`子空间判定` `维数计算` `基的构造`
- **L3章节**：`向量`
- **难度**：`hard`

## 📖 子空间的深入理解

子空间是向量空间中具有相同代数结构的子集，它保持了原空间的运算封闭性。

## 一、子空间的判定与构造

### 📖 子空间判定定理（复习）
设V是向量空间，W⊆V。W是V的子空间的充要条件是：
1. W非空（通常验证 $\mathbf{0} \in W$）
2. 对加法封闭：$\alpha, \beta \in W \Rightarrow \alpha + \beta \in W$
3. 对数乘封闭：$\alpha \in W, k \in \mathbb{R} \Rightarrow k\alpha \in W$

### 🔑 等价判定
W是子空间 ⟺ W非空且对线性组合封闭

### 📐 例题3.84（子空间判定）
判断下列集合是否为 $\mathbb{R}^3$ 的子空间：
(1) $W_1 = \{(x, y, z)^T | x^2 + y^2 + z^2 \leq 1\}$
(2) $W_2 = \{(x, y, z)^T | x = y = z\}$
(3) $W_3 = \{(x, y, z)^T | x, y, z \text{都是整数}\}$

**解**：
(1) $W_1$ 不是子空间。
   取 $\alpha = (1, 0, 0)^T \in W_1$，但 $2\alpha = (2, 0, 0)^T \notin W_1$
   （因为 $2^2 = 4 > 1$），不满足数乘封闭。

(2) $W_2$ 是子空间。
   - $\mathbf{0} = (0, 0, 0)^T \in W_2$ ✓
   - 加法：$(a, a, a)^T + (b, b, b)^T = (a+b, a+b, a+b)^T \in W_2$ ✓
   - 数乘：$k(a, a, a)^T = (ka, ka, ka)^T \in W_2$ ✓

(3) $W_3$ 不是子空间。
   $(1, 0, 0)^T \in W_3$，但 $\frac{1}{2}(1, 0, 0)^T = (\frac{1}{2}, 0, 0)^T \notin W_3$

## 二、重要的子空间

### 1. 零空间（核空间）
对于矩阵A，$\ker A = \{\mathbf{x} | A\mathbf{x} = \mathbf{0}\}$ 是子空间。

### 2. 列空间（值域）
$\text{Col}(A) = \{A\mathbf{x} | \mathbf{x} \in \mathbb{R}^n\}$ 是由A的列向量生成的子空间。

### 3. 行空间
A的行向量生成的子空间。

### 📐 例题3.85（零空间的基）
求矩阵 $A = \begin{pmatrix} 1 & 2 & 3 \\ 2 & 4 & 6 \\ 1 & 2 & 3 \end{pmatrix}$ 的零空间的基和维数。

**解**：
零空间是 $A\mathbf{x} = \mathbf{0}$ 的解空间。

观察：第二、三行都是第一行的倍数，所以方程组简化为：
$$x_1 + 2x_2 + 3x_3 = 0$$

自由变量：$x_2, x_3$
通解：$\mathbf{x} = x_2\begin{pmatrix} -2 \\ 1 \\ 0 \end{pmatrix} + x_3\begin{pmatrix} -3 \\ 0 \\ 1 \end{pmatrix}$

基：$\left\{\begin{pmatrix} -2 \\ 1 \\ 0 \end{pmatrix}, \begin{pmatrix} -3 \\ 0 \\ 1 \end{pmatrix}\right\}$

维数：$\dim(\ker A) = 2$

## 三、子空间的和与交

### 📖 定义（子空间的和）
设 $U, W$ 是V的子空间，定义
$$U + W = \{u + w | u \in U, w \in W\}$$

### 📖 定义（子空间的交）
$$U \cap W = \{v | v \in U \text{ 且 } v \in W\}$$

### 🔑 性质
1. $U + W$ 和 $U \cap W$ 都是V的子空间
2. $U \cap W \subseteq U \subseteq U + W$
3. $U \cap W \subseteq W \subseteq U + W$

### 📐 例题3.86（子空间的和与交）
设 $U = \text{span}\left\{\begin{pmatrix} 1 \\ 0 \\ 0 \end{pmatrix}, \begin{pmatrix} 0 \\ 1 \\ 0 \end{pmatrix}\right\}$，
$W = \text{span}\left\{\begin{pmatrix} 1 \\ 1 \\ 0 \end{pmatrix}, \begin{pmatrix} 0 \\ 0 \\ 1 \end{pmatrix}\right\}$。
求 $U \cap W$ 和 $U + W$。

**解**：
1) 分析子空间：
   - U是xy平面（z=0）
   - W由 $(1,1,0)^T$ 和 $(0,0,1)^T$ 生成

2) 求交：$U \cap W$
   设 $v \in U \cap W$，则 $v = (x, y, 0)^T$（因为在U中）
   同时 $v = a(1,1,0)^T + b(0,0,1)^T = (a, a, b)^T$（因为在W中）
   
   比较得：$x = a$，$y = a$，$0 = b$
   所以 $v = (a, a, 0)^T = a(1, 1, 0)^T$
   
   因此 $U \cap W = \text{span}\{(1, 1, 0)^T\}$，维数为1。

3) 求和：$U + W$
   $\{(1,0,0)^T, (0,1,0)^T, (0,0,1)^T\}$ 线性无关
   所以 $U + W = \mathbb{R}^3$，维数为3。

验证维数公式：$\dim(U + W) = \dim U + \dim W - \dim(U \cap W) = 2 + 2 - 1 = 3$ ✓

## 四、直和

### 📖 定义（直和）
若 $U \cap W = \{\mathbf{0}\}$，则称和 $U + W$ 为**直和**，记作 $U \oplus W$。

### 🔑 直和的充要条件
以下条件等价：
1. $V = U \oplus W$
2. $U \cap W = \{\mathbf{0}\}$ 且 $V = U + W$
3. V中每个向量可唯一表示为 $u + w$（$u \in U, w \in W$）
4. $\dim V = \dim U + \dim W$（对有限维）

### 📐 例题3.87（直和分解）
证明 $\mathbb{R}^3 = U \oplus W$，其中
$U = \{(x, y, z)^T | x + y + z = 0\}$，
$W = \text{span}\{(1, 1, 1)^T\}$。

**证明**：
1) 求 $U \cap W$：
   设 $v \in U \cap W$，则 $v = t(1, 1, 1)^T$ 且 $t + t + t = 0$
   得 $3t = 0$，所以 $t = 0$，$v = \mathbf{0}$
   因此 $U \cap W = \{\mathbf{0}\}$

2) 验证维数：
   - $\dim U = 2$（一个约束方程）
   - $\dim W = 1$
   - $\dim U + \dim W = 2 + 1 = 3 = \dim \mathbb{R}^3$

3) 任意分解：
   对 $(x, y, z)^T \in \mathbb{R}^3$，设
   $$t = \frac{x + y + z}{3}$$
   则：
   $$(x, y, z)^T = \underbrace{(x-t, y-t, z-t)^T}_{\in U} + \underbrace{t(1, 1, 1)^T}_{\in W}$$

因此 $\mathbb{R}^3 = U \oplus W$。

## 五、子空间的应用

### 1. 最小二乘法
投影到子空间求最佳逼近。

### 2. 主成分分析
找到数据的主要子空间。

### 3. 信号处理
信号空间的正交分解。

### 📐 例题3.88（投影子空间）
求向量 $v = \begin{pmatrix} 1 \\ 2 \\ 3 \end{pmatrix}$ 在子空间 $W = \text{span}\left\{\begin{pmatrix} 1 \\ 0 \\ 0 \end{pmatrix}, \begin{pmatrix} 0 \\ 1 \\ 0 \end{pmatrix}\right\}$ 上的投影。

**解**：
W是xy平面，$v$ 在W上的投影就是去掉z分量：
$$\text{proj}_W(v) = \begin{pmatrix} 1 \\ 2 \\ 0 \end{pmatrix}$$

验证：$v - \text{proj}_W(v) = \begin{pmatrix} 0 \\ 0 \\ 3 \end{pmatrix}$ 垂直于W中所有向量。

## 六、子空间的刻画

### 1. 参数方程刻画
$W = \{\mathbf{x} = \mathbf{x}_0 + t_1\mathbf{v}_1 + \cdots + t_k\mathbf{v}_k | t_i \in \mathbb{R}\}$

### 2. 隐式方程刻画
$W = \{\mathbf{x} | A\mathbf{x} = \mathbf{0}\}$

### 3. 基和维数刻画
给出基和维数完全确定子空间。

### 📐 例题3.89（不同刻画方式）
将子空间 $W = \{(x, y, z)^T | x - 2y + z = 0\}$ 用参数形式表示。

**解**：
自由变量：$y, z$
约束：$x = 2y - z$

参数表示：
$$W = \left\{y\begin{pmatrix} 2 \\ 1 \\ 0 \end{pmatrix} + z\begin{pmatrix} -1 \\ 0 \\ 1 \end{pmatrix} \bigg| y, z \in \mathbb{R}\right\}$$

基：$\left\{\begin{pmatrix} 2 \\ 1 \\ 0 \end{pmatrix}, \begin{pmatrix} -1 \\ 0 \\ 1 \end{pmatrix}\right\}$

## 七、子空间序列

### 1. 子空间链
$\{0\} \subseteq W_1 \subseteq W_2 \subseteq \cdots \subseteq V$

### 2. 不变子空间
在线性变换下保持不变的子空间。

### 3. 循环子空间
由一个向量及其在线性变换下的像生成。

## 🎯 易错提醒

1. **非空性验证**：
   - 必须验证子空间非空
   - 通常检查含零向量

2. **封闭性完整**：
   - 加法和数乘都要验证
   - 不能只验证一个

3. **直和判断**：
   - 交集必须只有零向量
   - 维数要满足条件

4. **基的选择**：
   - 子空间的基不唯一
   - 选择计算方便的基

## 🔗 相关链接
- [[3-5-1 向量空间的概念]]
- [[3-5-2 基与维数]]
- [[3-6-3 正交向量组]]

## 🔗 相关题目练习
根据标签可在题库中搜索：
- 知识点标签：`子空间` `直和`
- 章节标签：`向量`
- 难度：`hard`