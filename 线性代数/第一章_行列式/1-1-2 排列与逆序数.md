# 1-1-2 排列与逆序数 🔢

#数学二 #线性代数 #第一章 #行列式 #排列 #逆序数 #hard

## 📌 知识概述

排列与逆序数是定义n阶行列式的理论基础。虽然这部分内容较为抽象，但它是理解行列式本质的关键。通过学习排列和逆序数，我们能够给出n阶行列式的严格数学定义。

## 🎯 学习目标

1. 理解排列的概念和性质
2. 掌握逆序和逆序数的计算方法
3. 理解排列的奇偶性
4. 为n阶行列式的定义做好准备

## 📚 知识点详解

### 一、排列的概念

#### 1. 定义

由1, 2, 3, ..., n这n个数字组成的一个有序数组称为一个**n级排列**。

**例如**：
- 3级排列：123, 132, 213, 231, 312, 321
- 4级排列：1234, 1243, 1324, ..., 4321

#### 2. 排列的个数

n个不同元素的全排列个数为 $n!$（n的阶乘）

- 3级排列：$3! = 6$ 个
- 4级排列：$4! = 24$ 个
- n级排列：$n!$ 个

#### 3. 标准排列

将1, 2, 3, ..., n按从小到大的顺序排列，得到的排列 12...n 称为**标准排列**或**自然排列**。

### 二、逆序和逆序数

#### 1. 逆序的定义

在一个排列中，如果较大的数排在较小的数的前面，就称这两个数构成一个**逆序**。

**形式化定义**：在排列 $j_1j_2...j_n$ 中，如果 $j_s > j_t$ 但 $s < t$，则称 $(j_s, j_t)$ 构成一个逆序。

#### 2. 逆序数的定义

一个排列中所有逆序的总数称为该排列的**逆序数**，记作 $\tau(j_1j_2...j_n)$ 或简记为 $\tau$。

#### 3. 逆序数的计算方法

**方法一：逐位计算法**
对于排列中的每个数，计算排在它前面且比它大的数的个数，然后求和。

**方法二：逐数计算法**
对于1到n的每个数i，计算排在i后面且比i小的数的个数，然后求和。

### 三、计算示例

#### 例1：计算排列 3241 的逆序数

**方法一（逐位计算）**：
- 第1位是3：前面没有数，贡献0个逆序
- 第2位是2：前面有3>2，贡献1个逆序
- 第3位是4：前面没有比4大的数，贡献0个逆序
- 第4位是1：前面有3>1, 2>1, 4>1，贡献3个逆序

总逆序数：$\tau(3241) = 0 + 1 + 0 + 3 = 4$

**方法二（逐数计算）**：
- 数字1：在第4位，后面没有比1小的数，贡献0个逆序
- 数字2：在第2位，后面有1<2，贡献1个逆序
- 数字3：在第1位，后面有2<3, 1<3，贡献2个逆序
- 数字4：在第3位，后面有1<4，贡献1个逆序

总逆序数：$\tau(3241) = 0 + 1 + 2 + 1 = 4$

### 四、排列的奇偶性

#### 1. 定义

- **偶排列**：逆序数为偶数的排列
- **奇排列**：逆序数为奇数的排列

#### 2. 性质

- 标准排列 12...n 是偶排列（逆序数为0）
- n级排列中，奇排列和偶排列各占一半，即各有 $\frac{n!}{2}$ 个

### 五、对换

#### 1. 定义

在排列中交换两个数的位置称为一次**对换**。

#### 2. 对换定理

**定理**：一次对换改变排列的奇偶性。

**证明思路**：
- 相邻对换：改变1个逆序
- 一般对换：可分解为奇数次相邻对换

#### 3. 推论

- 奇排列变成标准排列需要奇数次对换
- 偶排列变成标准排列需要偶数次对换

### 六、特殊排列的逆序数

#### 1. 倒序排列

排列 n(n-1)...321 的逆序数：
$$\tau = (n-1) + (n-2) + ... + 1 + 0 = \frac{n(n-1)}{2}$$

#### 2. 循环移位

将排列 12...n 的第一个数移到最后得到 23...n1，逆序数为 n-1。

## 💡 重要结论

1. 标准排列的逆序数为0
2. 对换改变排列的奇偶性
3. n个元素的全排列中，奇偶排列各占一半
4. 排列的逆序数唯一确定

## 🔍 典型例题

### 例题1：计算逆序数

求排列 4132 的逆序数。

**解**（逐位计算法）：
- 4：前面没有数，贡献0
- 1：前面有4>1，贡献1
- 3：前面有4>3，贡献1
- 2：前面有4>2, 3>2，贡献2

$\tau(4132) = 0 + 1 + 1 + 2 = 4$

因此，4132是偶排列。

### 例题2：构造指定逆序数的排列

构造一个4级排列，使其逆序数为5。

**解**：
一种方法是从标准排列开始，进行5次相邻对换：
- 1234 → 2134（对换1,2）τ=1
- 2134 → 2314（对换1,3）τ=2
- 2314 → 2341（对换1,4）τ=3
- 2341 → 2431（对换3,4）τ=4
- 2431 → 4231（对换2,4）τ=5

所以 4231 是一个逆序数为5的排列。

### 例题3：判断排列的奇偶性

不计算逆序数，判断排列 (n-1)(n-2)...321n 的奇偶性。

**解**：
这个排列可以看作标准排列经过以下对换得到：
- n与1对换
- n与2对换
- ...
- n与(n-1)对换

共进行了n-1次对换。

当n-1为奇数（即n为偶数）时，排列为奇排列；
当n-1为偶数（即n为奇数）时，排列为偶排列。

## ⚠️ 易错提醒

1. **计算遗漏**：计算逆序数时容易遗漏某些逆序对
2. **方向混淆**：注意是"大数在前，小数在后"才构成逆序
3. **奇偶判断**：对换次数的奇偶性决定最终排列的奇偶性变化

## 🔗 知识联系

- **向前联系**：排列是组合数学的基本概念
- **向后联系**：
  - 逆序数用于定义n阶行列式的符号
  - 理解行列式的性质需要用到排列的奇偶性
  - 行列式展开定理的证明依赖于排列理论

## 📝 学习小结

1. 排列是n个数的有序排列，共有n!种
2. 逆序是"大数在前，小数在后"的数对
3. 逆序数决定排列的奇偶性
4. 对换改变排列的奇偶性

## 🎯 练习建议

1. 练习计算各种排列的逆序数
2. 练习判断排列的奇偶性
3. 尝试构造具有指定逆序数的排列
4. 理解对换对逆序数的影响

---

🚀 **下一步**：学习n阶行列式的定义，看看排列和逆序数是如何应用的。