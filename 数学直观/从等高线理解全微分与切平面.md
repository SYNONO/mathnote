# 从等高线角度理解全微分与切平面

## 一、核心洞察：曲面的等高线 vs 切平面的等高线

### 1. 曲面在某点附近的等高线

考虑曲面 z = x² + y² 在点 (1, 1, 2) 附近：

**曲面的等高线**（真实的）：
- z = 2：x² + y² = 2（圆）
- z = 2.1：x² + y² = 2.1（稍大的圆）
- z = 1.9：x² + y² = 1.9（稍小的圆）

```
等高线图（曲面）：
      y
    1.2|  （2.1）
    1.1| （ 2  ）  ← 弯曲的等高线
    1.0|  · (1,1)
    0.9| （1.9）
      +--------x
      0.9 1.0 1.1
```

### 2. 切平面的等高线

在点 (1,1,2) 的全微分：
- ∂z/∂x = 2x = 2
- ∂z/∂y = 2y = 2
- dz = 2dx + 2dy

切平面方程：z - 2 = 2(x-1) + 2(y-1)
即：z = 2x + 2y - 2

**切平面的等高线**：
- z = 2：2x + 2y = 4（直线）
- z = 2.1：2x + 2y = 4.1（平行直线）
- z = 1.9：2x + 2y = 3.9（平行直线）

```
等高线图（切平面）：
      y
    1.2|    /2.1
    1.1|   /2   ← 平行直线
    1.0|  ·/    (1,1)
    0.9| /1.9
      +--------x
      0.9 1.0 1.1
```

## 二、为什么全微分给出切平面？

### 关键理解：局部线性化

**在点 (x₀, y₀) 附近**，曲面 z = f(x,y) 可以近似为：

z ≈ f(x₀,y₀) + (∂f/∂x)(x-x₀) + (∂f/∂y)(y-y₀)

这就是全微分公式！它在说：
> "虽然曲面的等高线是弯的，但在某一点附近，我用直的等高线（平行线）来近似"

### 几何解释

1. **曲面在某点的特征**：
   - 沿x方向的瞬时斜率：∂f/∂x
   - 沿y方向的瞬时斜率：∂f/∂y

2. **构造一个平面**：
   - 过这一点
   - x方向斜率恰好等于 ∂f/∂x
   - y方向斜率恰好等于 ∂f/∂y

3. **这个平面就是切平面！**

## 三、从 z=0 理解切平面

### 例：z = x² + y² 在点 (2, 1, 5)

**原曲面**：
- 令 z = 0：x² + y² = 0（只有原点）
- 令 z = 1：x² + y² = 1（圆）
- 令 z = 4：x² + y² = 4（更大的圆）

**切平面**（在点(2,1,5)）：
- ∂z/∂x = 2x = 4
- ∂z/∂y = 2y = 2
- 切平面：z = 5 + 4(x-2) + 2(y-1) = 4x + 2y - 5

**切平面的等高线**：
- 令 z = 0：4x + 2y = 5（直线！）
- 令 z = 5：4x + 2y = 10（平行直线）
- 令 z = 10：4x + 2y = 15（平行直线）

## 四、可视化理解

### 想象实验：放大镜看曲面

```
放大倍数：1x（整体看）
    曲面像个碗
    等高线是同心圆
    
放大倍数：10x（局部看）
    曲面还有点弯
    等高线像扁椭圆
    
放大倍数：100x（微小范围）
    几乎看不出弯曲
    等高线几乎是平行直线
    
放大倍数：∞（无限小范围）
    完全是平面！
    等高线就是平行直线
```

**这就是全微分的本质：在无限小的范围内，曲面=平面**

## 五、为什么偏导数决定了切平面？

### 从等高线间距理解

对于切平面 z = z₀ + (∂f/∂x)(x-x₀) + (∂f/∂y)(y-y₀)：

1. **∂f/∂x 大** → x方向等高线密集 → x方向陡
2. **∂f/∂y 大** → y方向等高线密集 → y方向陡
3. **两个偏导数** → 确定了等高线的方向和间距

### 类比：地形图

```
偏导数告诉你：
- ∂f/∂x = 3：向东每走1米，上升3米
- ∂f/∂y = 1：向北每走1米，上升1米

等高线方向：
- 垂直于最陡方向
- 由两个偏导数共同决定
```

## 六、判断练习

### 问题：如何知道求出的是切平面？

**检验方法**（用您的z=0思想）：
1. 求出的方程令z=0
2. 应该得到ax + by = c（直线）
3. 所有等高线应该平行

### 例：验证全微分

曲面 z = sin(xy) 在点 (π/2, 1, 1)：
- ∂z/∂x = y·cos(xy) = 1×0 = 0
- ∂z/∂y = x·cos(xy) = π/2×0 = 0

切平面：z - 1 = 0(x-π/2) + 0(y-1)
即：z = 1（水平面！）

验证：
- 令z=0：无解（平面在z=1处）
- 令z=0.9, 1, 1.1：都是整个xy平面
- 确实是平面！✓

## 七、深刻总结

### 全微分 = "局部平面化"

**全微分公式**：
dz = (∂f/∂x)dx + (∂f/∂y)dy

**它在说**：
> "在点(x₀,y₀)的微小邻域内，忘掉曲面的弯曲，用一个最贴合的平面代替。这个平面的等高线是平行直线，斜率由偏导数决定。"

### 从等高线看切平面

1. **曲面**：等高线可能是圆、椭圆、双曲线...
2. **切平面**：等高线一定是平行直线
3. **贴合点**：在切点处，两者的等高线相切

这就是为什么叫"切"平面！