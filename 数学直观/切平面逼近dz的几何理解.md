# 切平面逼近dz值的几何理解

## 核心思想：局部用平面代替曲面

### 一、问题的本质

**我们想要什么？**
- 从点(x₀, y₀)移动到(x₀+dx, y₀+dy)
- 想知道高度变化dz是多少

**困难在哪？**
- 曲面上：z = f(x,y)很复杂，难以计算
- 需要计算：f(x₀+dx, y₀+dy) - f(x₀, y₀)

**解决方案：**
- 在微小范围内，用切平面代替曲面
- 在平面上计算高度变化（简单！）

## 二、切平面逼近的几何过程

### 步骤分解

```
1. 原始问题（在曲面上）
   起点：A(x₀, y₀, z₀) 其中z₀ = f(x₀,y₀)
   终点：B(x₀+dx, y₀+dy, z₁) 其中z₁ = f(x₀+dx,y₀+dy)
   求：dz实际 = z₁ - z₀

2. 构造切平面
   过点A，斜率由偏导数决定
   切平面方程：z - z₀ = fx'(x-x₀) + fy'(y-y₀)

3. 在切平面上计算
   起点：A(x₀, y₀, z₀)（同一点）
   终点：B'(x₀+dx, y₀+dy, z₀+dz)
   高度变化：dz = fx'·dx + fy'·dy

4. 用切平面的dz近似曲面的dz
```

## 三、具体数值例子

### 曲面：z = x² + y²
### 在点(2, 1, 5)处，移动到(2.1, 1.05)

**Step 1：计算偏导数（切平面的斜率）**
- ∂z/∂x = 2x = 4
- ∂z/∂y = 2y = 2

**Step 2：位移量**
- dx = 0.1
- dy = 0.05

**Step 3：用切平面计算dz**
```
dz = 4×0.1 + 2×0.05
   = 0.4 + 0.1
   = 0.5
```
预测新高度：5 + 0.5 = 5.5

**Step 4：对比真实值**
```
真实：z(2.1, 1.05) = 2.1² + 1.05²
                    = 4.41 + 1.1025
                    = 5.5125
实际dz = 5.5125 - 5 = 0.5125
```

**误差：0.0125（很小！）**

## 四、为什么切平面能逼近？

### 关键：泰勒展开的几何意义

数学上，二元函数的泰勒展开：
```
f(x₀+dx, y₀+dy) = f(x₀,y₀) + fx'dx + fy'dy + 二阶项...
```

当dx、dy很小时：
- 一阶项（fx'dx + fy'dy）是主要部分
- 二阶项（包含dx²、dy²、dx·dy）很小，可忽略

**几何意义：**
- 一阶项 = 切平面的贡献
- 二阶项 = 曲率造成的误差

## 五、形象类比

### 类比1：地图导航

```
真实地形：山路弯曲起伏
导航估算：把路当成直线斜坡

短距离（100米）：
- 导航：上升20米
- 实际：上升20.5米
- 误差很小

长距离（10公里）：
- 导航：上升2000米
- 实际：上升2500米
- 误差明显
```

### 类比2：测量弧长

```
测量圆弧：
- 用直尺：测的是弦长
- 弧很短时：弦≈弧
- 弧很长时：差别很大

切平面逼近：
- 用平面：算的是线性变化
- 范围很小时：平面≈曲面
- 范围很大时：误差明显
```

## 六、可视化理解

### 放大看细节

```
整体看（曲面明显弯曲）：
    z
    ↑     ╱╱╲╲
    |   ╱╱    ╲╲  ← 曲面
    | ╱╱        ╲╲
    +----------------

放大10倍（还有点弯）：
    z
    ↑   ╱╱╲
    |  ╱╱  ╲  ← 略弯
    | ╱╱    ╲
    +----------

放大100倍（几乎是直的）：
    z
    ↑  ━━━━━
    | ━━━━━  ← 几乎是平面！
    |━━━━━
    +-------

在微小范围内，曲面≈切平面！
```

## 七、误差分析

### 什么时候逼近效果好？

**逼近效果好的情况：**
1. dx、dy很小（移动距离短）
2. 曲面比较"平缓"（曲率小）
3. 不在拐点附近

**逼近效果差的情况：**
1. dx、dy较大
2. 曲面弯曲剧烈
3. 在极值点、拐点附近

### 误差的数量级

误差 ≈ O(dx² + dy²)

意思是：
- 如果dx、dy缩小10倍
- 误差缩小100倍！

## 八、实际应用

### 工程测量

```
问题：零件表面高度变化
已知：某点的两个方向斜率
测量：水平位移

计算：dz = 斜率₁×位移₁ + 斜率₂×位移₂

这就是全微分的应用！
```

### 误差传播

```
测量仪器：
- x方向误差：±0.01mm
- y方向误差：±0.02mm

高度误差：
dz = |∂z/∂x|×0.01 + |∂z/∂y|×0.02

这是最坏情况估计
```

## 九、深刻理解

### 切平面逼近 = 线性化

**非线性问题 → 线性问题**
- 曲面（非线性）→ 平面（线性）
- 复杂 → 简单
- 难算 → 好算

### 微分的本质

> "在足够小的尺度上，一切光滑的东西都是直的"

- 地球是圆的，但脚下是平的
- 圆是弯的，但放大看是直的
- 曲面是弯的，但局部是平的

这就是微分的哲学！